!function(t){var e,i,r;!function(t){function n(t,e){return w.call(t,e)}function s(t,e){var i,r,n,s,a,o,u,l,h,p,c=e&&e.split("/"),f=y.map,v=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(c=c.slice(0,c.length-1),t=c.concat(t.split("/")),l=0;l<t.length;l+=1)if(p=t[l],"."===p)t.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((c||v)&&f){for(i=t.split("/"),l=i.length;l>0;l-=1){if(r=i.slice(0,l).join("/"),c)for(h=c.length;h>0;h-=1)if(n=f[c.slice(0,h).join("/")],n&&(n=n[r])){s=n,a=l;break}if(s)break;!o&&v&&v[r]&&(o=v[r],u=l)}!s&&o&&(s=o,a=u),s&&(i.splice(0,a,s),t=i.join("/"))}return t}function a(e,i){return function(){return f.apply(t,b.call(arguments,0).concat([e,i]))}}function o(t){return function(e){return s(e,t)}}function u(t){return function(e){g[t]=e}}function l(e){if(n(d,e)){var i=d[e];delete d[e],T[e]=!0,c.apply(t,i)}if(!n(g,e)&&!n(T,e))throw new Error("No "+e);return g[e]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function p(t){return function(){return y&&y.config&&y.config[t]||{}}}var c,f,v,m,g={},d={},y={},T={},w=Object.prototype.hasOwnProperty,b=[].slice;v=function(t,e){var i,r=h(t),n=r[0];return t=r[1],n&&(n=s(n,e),i=l(n)),n?t=i&&i.normalize?i.normalize(t,o(e)):s(t,e):(t=s(t,e),r=h(t),n=r[0],t=r[1],n&&(i=l(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:i}},m={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},c=function(e,i,r,s){var o,h,p,c,f,y,w=[];if(s=s||e,"function"==typeof r){for(i=!i.length&&r.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(c=v(i[f],s),h=c.f,"require"===h)w[f]=m.require(e);else if("exports"===h)w[f]=m.exports(e),y=!0;else if("module"===h)o=w[f]=m.module(e);else if(n(g,h)||n(d,h)||n(T,h))w[f]=l(h);else{if(!c.p)throw new Error(e+" missing "+h);c.p.load(c.n,a(s,!0),u(h),{}),w[f]=g[h]}p=r.apply(g[e],w),e&&(o&&o.exports!==t&&o.exports!==g[e]?g[e]=o.exports:p===t&&y||(g[e]=p))}else e&&(g[e]=r)},e=i=f=function(e,i,r,n,s){return"string"==typeof e?m[e]?m[e](i):l(v(e,i).f):(e.splice||(y=e,i.splice?(e=i,i=r,r=null):e=t),i=i||function(){},"function"==typeof r&&(r=n,n=s),n?c(t,e,i,r):setTimeout(function(){c(t,e,i,r)},4),f)},f.config=function(t){return y=t,y.deps&&f(y.deps,y.callback),f},r=function(t,e,i){e.splice||(i=e,e=[]),n(g,t)||n(d,t)||(d[t]=[t,e,i])},r.amd={jQuery:!0}}(),r("global",["require"],function(){var t={defaults:{},TINY_NUMBER:1e-8};return t}),r("util",["require"],function(){var t={};t.ie=/msie (\d+\.\d)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:/Trident\/\d+\.\d.*rv:(\d+\.\d)/.test(navigator.userAgent)?document.documentMode||+RegExp.$1:null;var e=Function.prototype.bind;t.bind=e?function(t){return e.apply(t,[].slice.call(arguments,1))}:function(t,e){var i=[].slice.call(arguments,2);return function(){var r=i.concat([].slice.call(arguments));return t.apply(e,r)}};var i=!{toString:1}.propertyIsEnumerable("toString");return t.inherits=function(t,e){var r=function(){};r.prototype=e.prototype;var n=new r,s=t.prototype;t.prototype=n;for(var a in s)n[a]=s[a];return i&&(s.hasOwnProperty("toString")&&(n.toString=s.toString),s.hasOwnProperty("valueOf")&&(n.valueOf=s.valueOf)),t.prototype.constructor=t,t},t.breaker={},t.each=function(e,i,r){if(null==e)return e;for(var n=null==r?i:t.bind(i,r),s=0,a=e.length;a>s&&n(e[s],s,e)!==t.breaker;s++);},t.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},t.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},t.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},t.getComputedStyle=function(t,e){var i=9===t.nodeType?t:t.ownerDocument;if(i.defaultView&&i.defaultView.getComputedStyle){var r=i.defaultView.getComputedStyle(t,null);if(r)return r[e]||r.getPropertyValue(e)}return""},t.getStyle=function(e,i){i=t.toCamelCase(i);var r=e.currentStyle&&e.currentStyle[i]||t.getComputedStyle(e,i)||e.style[i];if((!r||"auto"===r)&&"opacity"===i&&t.ie&&t.ie<=8){var n=e.style.filter;r=n&&n.indexOf("opacity=")>=0?parseFloat(n.match(/opacity=([^)]*)/)[1])/100+"":"1"}return r},t.setStyle=function(e,i,r){i=t.toCamelCase(i),t.isNumber(r)&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(i)&&(r+="px");var n=e.style;return"opacity"===i&&t.ie&&t.ie<=8?(n.filter=(n.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(1==r?"":"alpha(opacity="+100*r+")"),n.zoom=1):n[i]=r,e},t.setStyles=function(e,i){for(var r in i)t.setStyle(e,r,i[r]);return e},t}),r("events",["require"],function(){var t={TICK:"tick",START:"start",AFTER_FINISH:"after_finish",BEFORE_UPDATE:"before_update",AFTER_UPDATE:"after_update",PROGRESS:"progress"};return t}),r("EventDispatcher",["require"],function(){function t(){this._listeners={}}return t.prototype.addListener=function(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)},t.prototype.removeListener=function(t,e){if(this._listeners[t])for(var i=this._listeners[t],r=i.length-1;r>=0;r--)if(i[r]===e){i[r]=null;break}},t.prototype.trigger=function(t){if(!this._listeners[t])return!0;for(var e=Array.prototype.slice.call(arguments,1),i=!0,r=0;r<this._listeners[t].length;r++){var n=this._listeners[t][r];n&&!1===n.apply(this,e)&&(i=!1)}return i},t.prototype.dispose=function(){this._listeners={}},t._registry=[],t.prototype.registerListener=function(e,i){var r=t._registry;r.push({eventType:e,subscriber:this,listener:i})},t.prototype.unregisterListener=function(e,i){for(var r=t._registry,n=r.length-1;n>=0;n--){var s=r[n];s.subscriber===this&&(!e||e&&s.eventType===e)&&(!i||i&&s.listener===i)&&r.splice(n,1)}},t.prototype.publish=function(e){for(var i=t._registry,r=Array.prototype.slice.call(arguments,1),n=!0,s=0;s<i.length;s++){var a=i[s];a.eventType===e&&!1===a.listener.apply(a.subscriber,r)&&(n=!1)}return n},t}),r("TimeEvent",["require","./global","./util","./events","./EventDispatcher"],function(t){function e(t){s.call(this),t=t||{},this.isInFrame=t.isInFrame||!1,this.startPoint=0,this.delay,this._duration=1/0,this._scale=1,this.timeline,this._ease,this.isPaused=!1,this.isActive=!0,this.isAlwaysActive=!1,this.playhead=0,this.isPlayheadDirty=!0,this.isReversed=!1,this.isRealReversed=!1}{var i=t("./global"),r=t("./util"),n=t("./events"),s=t("./EventDispatcher");i.TINY_NUMBER}return r.inherits(e,s),e.prototype.getStartPoint=function(){return this.startPoint},e.prototype.getDuration=function(){return this._duration},e.prototype.getScale=function(){return this._scale},e.prototype.getTime=function(){return this.playhead},e.prototype.duration=function(t){return this._duration=t,this},e.prototype.scale=function(t){return this._scale=t,this},e.prototype.setTimeline=function(t){this.timeline=t},e.prototype.setStartPoint=function(t){this.startPoint=t},e.prototype.isAttached=function(){return!!this.timeline},e.prototype.detach=function(){this.timeline&&this.timeline.remove(this)},e.prototype.attach=function(){this.timeline&&this.timeline.add(this,this.startPoint-this.delay)},e.prototype.delay=e.prototype.after=function(t){return this.delay=t,this},e.prototype.ease=function(t){return this._ease=t,this},e.prototype.getProgress=function(t){return this._ease?this.isRealReversed?1-this._ease(1-t):this._ease(t):t},e.prototype.render=function(t,e){var i=this.playhead;this.playhead=t;var r=this.isPlayheadDirty;if(this.isPlayheadDirty=!1,!e&&this.isPaused)return this;var s=this.getDuration();if(!this.isActive||t===i)return this;var a=!1,o=!0;e||(0>t?r?o=!1:i>t?a=!0:o=!1:t>s?r?o=!1:t>i?a=!0:o=!1:null!=i&&(0>i||i>s)&&this.trigger(n.START));var u=this.isReversed?s-t:t;return(this.isAlwaysActive||o)&&this.internalRender(u,e),a&&(this.deactivate(),this.trigger(n.AFTER_FINISH)),this},e.prototype.internalRender=function(){},e.prototype.activate=function(){this.isActive=!0},e.prototype.deactivate=function(){this.isAlwaysActive||(this.isPlayheadDirty=!0,this.isActive=!1)},e.prototype.setRealReverse=function(t){null!=t?this.isReversed&&(this.isRealReversed=!t):this.isRealReversed=!this.isRealReversed},e.prototype.reverse=function(t){if(this.isReversed=!this.isReversed,this.setRealReverse(),!this.timeline)return this;var e=this.getDuration(),i=null!=t?t:this.isPaused?this.pausePoint:this.playhead,r=Math.min(Math.max(i,0),e),n=e-r;return this.startPoint=this.timeline.getTime()-n/this.getScale(),this.playhead=n,this.rearrange(),this},e.prototype.seek=function(t){var e=this.getDuration(),i=Math.min(Math.max(t,0),e);return this.startPoint=this.timeline.getTime()-i/this.getScale(),this.isPaused&&(this.pausePoint=i),this.rearrange(),this.render(i,!0),this},e.prototype.seekProgress=function(t,e){var i=this.getDuration(),r=e&&this.isReversed?1-t:t;return this.seek(i*r),this},e.prototype.play=function(t){if(this.isPaused)null!=t&&this.seek(t),this.resume();else{var e=this.getDuration();(this.playhead<0||this.playhead>=e)&&this.seek(t||0)}return this},e.prototype.playForward=function(){this.isRealReversed?this.reverse().play(0):this.play(0)},e.prototype.playBackward=function(){this.isRealReversed?this.play(0):this.reverse().play(0)},e.prototype.stop=function(){return this.seek(0),this.pause(),this},e.prototype.pause=function(t){return null!=t&&this.seek(t),this.pausePoint=this.playhead,this.isPaused=!0,this},e.prototype.resume=function(){if(!this.isPaused)return this;var t=this.getDuration(),e=Math.min(Math.max(this.pausePoint,0),t);this.startPoint=this.timeline.getTime()-e/this.getScale(),this.isPaused=!1,this.pausePoint=null,this.seek(e)},e}),r("Ticker",["require","./util","./events","./EventDispatcher"],function(t){function e(t,e){n.call(this);var r=e||{};this.startTime=this.now(),this.time=0,this.frame=0,this.enableRAF=r.enableRAF!==!1&&l,this.lagThreshold=400,this.lagPreset=33,this.fps,this.interval=1e3/60,this.requestNextFrame,this.cancelNextFrame,this.nextFrameTime=this.interval,this.lastTickTime=this.startTime,this.nextFrameTimer,this.aliveCheckTimer,this.isTicking=!1,this.boundTick=i.bind(this.tick,this),this.wake()}for(var i=t("./util"),r=t("./events"),n=t("./EventDispatcher"),s=window.requestAnimationFrame,a=window.cancelAnimationFrame,o=["ms","webkit","moz","o"],u=0;u<o.length&&(!s||!a);u++)s=window[o[u]+"RequestAnimationFrame"],a=window[o[u]+"CancelAnimationFrame"]||window[o[u]+"CancelRequestAnimationFrame"];var l=s&&a;return i.inherits(e,n),e.prototype.tick=function(){var t=this.now(),e=t-this.lastTickTime;e>this.lagThreshold&&(this.startTime=this.startTime+e-this.lagPreset),this.time=t-this.startTime;var i=this.time-this.nextFrameTime;(!this.fps||i>0)&&(this.frame++,this.nextFrameTime+=i>=this.interval?i+4:this.interval,0!==this.fps&&(this.nextFrameTimer=this.requestNextFrame(this.boundTick)),this.trigger(r.TICK,this.time,this.frame)),this.lastTickTime=t},e.prototype.sleep=function(){this.isTicking&&this.nextFrameTimer&&this.cancelNextFrame(this.nextFrameTimer),this.isTicking=!1,this.aliveCheckTimer&&clearTimeout(this.aliveCheckTimer),this.aliveCheckTimer=null},e.prototype.wake=function(){if(this.isTicking&&this.sleep(),0===this.fps)this.requestNextFrame=null,this.cancelNextFrame=null;else{var t=this;this.enableRAF&&s?(this.requestNextFrame=function(){s.apply(window,arguments)},this.cancelNextFrame=function(){a.apply(window,arguments)}):(this.requestNextFrame=function(e){return setTimeout(e,t.nextFrameTime-t.time+1)},this.cancelNextFrame=function(t){clearTimeout(t)})}this.tick(),this.isTicking=!0,this.aliveCheck()},e.prototype.now=function(){return Date.now?Date.now():(new Date).getTime()},e.prototype.setFps=function(t){this.fps=t,this.interval=1e3/(this.fps||60),this.nextFrameTime=this.time+this.interval,this.wake()},e.prototype.getFps=function(){return this.fps},e.prototype.aliveCheck=function(){function t(r){!r&&e.isTicking&&e.now()-e.lastTickTime>1200&&(e.enableRAF&&s&&(!e.nextFrameTimer||e.frame<5)&&(e.enableRAF=!1),e.wake()),e.aliveCheckTimer=setTimeout(t,i)}var e=this,i=Math.max(2e3,3*this.interval);t(!0)},e}),r("Timeline",["require","./global","./util","./events","./TimeEvent","./Ticker"],function(t){function e(){s.apply(this,arguments),this.render=e.prototype.render,this._lastTimeEvent,this.listHead=null,this.listTail=null,this.isAlwaysActive=!0}var i=t("./global"),r=t("./util"),n=t("./events"),s=t("./TimeEvent"),a=t("./Ticker");return r.inherits(e,s),e.prototype.add=function(t){if(!t instanceof s)throw"Only TimeEvent could be added to Timeline!";if(t.isInFrame!==this.isInFrame)throw"Can not add a TimeEvent with "+(t.isInFrame?"frame":"time")+" in a Timeline with "+(this.isInFrame?"frame":"time");return t.isAttached()&&t.detach(),t.setTimeline(this),t.setStartPoint(this.playhead),t.setRealReverse(this.isRealReversed),this._lastTimeEvent=t,this.enqueue(t),this.rearrange(),this},e.prototype.traverse=function(t){if(this.listHead)for(var e=this.listHead;e;){var i=t(e);if(i===r.breaker)break;e=e.next}},e.prototype.reverseTraverse=function(t){if(this.listTail)for(var e=this.listTail;e;){var i=t(e);if(i===r.breaker)break;e=e.prev}},e.prototype.outInTraverse=function(t,e){var i,n,s=!1;if(this.listHead)for(n=this.listHead;n&&!(t<n.getStartPoint()||!this.isRealReversed&&t===n.getStartPoint());){if(i=e(n),i===r.breaker){s=!0;break}n=n.next}if(s)return this;if(this.listTail)for(n=this.listTail;n&&!(t>n.getStartPoint()||this.isRealReversed&&t===n.getStartPoint())&&(i=e(n),i!==r.breaker);)n=n.prev;return this},e.prototype.enqueue=function(t){if(null==this.listTail)this.listHead=t,this.listTail=t,t.prev=null,t.next=null;else{var e=this,i=t.getStartPoint(),n=!1;this.reverseTraverse(function(e){return i>=e.getStartPoint()?(n=!0,t.prev=e,t.next=e.next,e.next=t,r.breaker):void 0}),n||(t.prev=null,t.next=e.listHead,e.listHead=t),t.next?t.next.prev=t:this.listTail=t}},e.prototype.dequeue=function(t){t.timeline===this&&(t.prev?t.prev.next=t.next:this.listHead===t&&(this.listHead=t.next),t.next?t.next.prev=t.prev:this.listTail===t&&(this.listTail=t.prev),t.prev=null,t.next=null,t.setTimeline(null)),this._lastTimeEvent===t&&(this._lastTimeEvent=null)},e.prototype.at=function(t){return this._lastTimeEvent&&(this._lastTimeEvent.setStartPoint(t),this.rearrange()),this},e.prototype.remove=function(t){return this.dequeue(t),this.rearrange(),this},e.prototype.scale=function(){return s.prototype.scale.apply(this,arguments),this.rearrange(),this},e.prototype.rearrange=function(){var t=-1/0;return this.traverse(function(e){var i=e.getStartPoint()+e.getDuration()/e.getScale();i>t&&(t=i)}),this._duration=Math.max(0,t),this.timeline&&this.timeline.rearrange(),this.activate(),this},e.prototype.internalRender=function(t,e){var i=e?r.bind(this.outInTraverse,this,t):this.isRealReversed?this.reverseTraverse:this.traverse,s=this.getDuration(),a=Math.max(Math.min(t,s),0)/s;this._ease&&t>=0&&s>=t&&(a=this.getProgress(a),t*=a),i.call(this,function(i){if(i.isActive){var r=(t-i.getStartPoint())*i.getScale();i.render(r,e)}}),this.trigger(n.PROGRESS,a,this.playhead)},e.prototype.setRealReverse=function(){s.prototype.setRealReverse.apply(this,arguments),this.traverse(function(t){t.setRealReverse()})},e.prototype.reverse=function(){return s.prototype.reverse.apply(this,arguments),this.seek(this.playhead),this},e.prototype.childEase=function(t){return this.traverse(function(e){e.ease(t)}),this},e.prototype.activate=function(){return s.prototype.activate.apply(this,arguments),this.traverse(function(t){t.activate()}),this},e.prototype.setPlaybackRate=e.prototype.speed=function(){},i.ticker=new a,i.rootTimeline=new e,i.rootFrameTimeline=new e({isInFrame:!0}),i.ticker.addListener(n.TICK,function(t,e){i.rootTimeline.render(t),i.rootFrameTimeline.render(e)}),e}),r("parser/CssDeclarationParser",["require","../util"],function(t){var e=t("../util"),i={};return i._defaultUnit={top:"px",bottom:"px",left:"px",right:"px","margin-top":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","padding-top":"px","padding-bottom":"px","padding-left":"px","padding-right":"px",width:"px",height:"px","font-size":"px",perspective:"px","line-height":""},i._defaultProcessor={parse:function(t,r){return e.isNumber(t)?{value:t,unit:i._defaultUnit[r]||""}:(t+="",{value:parseFloat(t),unit:t.replace(/[\d.]+/,"")})}},i._edgeParse=function(t,e){for(var r=(t+"").split(" "),n={},s=0;4>s;s++){var a=r[s]=r[s]||r[parseInt((s-1)/2,10)];n[e[s]]=a}return i.parse(n)},i._processorMap={},i.register=function(t,r){e.isArray(t)?e.each(t,function(t){i._processorMap[t]=r}):i._processorMap[t]=r},i.parse=function(t){var e=i._processorMap,r={};for(var n in t){var s=e[n]||i._defaultProcessor,a=s.parse(t[n],n);if(null!=a.value&&null!=a.unit)r[n]=a;else for(var o in a)r[o]=a[o]}return r},i.register("margin",{parse:function(t){var e=["margin-top","margin-right","margin-bottom","margin-left"];return i._edgeParse(t,e)}}),i.register("padding",{parse:function(t){var e=["padding-top","padding-right","padding-bottom","padding-left"];return i._edgeParse(t,e)}}),i}),r("parser/DeclarationBetween",["require","../util","./CssDeclarationParser"],function(t){function e(t,e){this.property=t,this.element=e,this.start,this.end,this.unit,this.isReady=!1}var i=t("../util"),r=t("./CssDeclarationParser");return e.prototype.getElementDeclaration=function(){var t=this.property,e=i.getStyle(this.element,t),n={};return n[t]=e,r.parse(n)[t]},e.prototype.setStart=function(t){this.start=t,this.normalize(),this.isInitialized=!1,this.isReady=!0},e.prototype.setEnd=function(t){this.end=t,this.normalize(),this.isInitialized=!1,this.isReady=!0},e.prototype.normalize=function(){this.start&&(this.unit=this.start.unit)},e.prototype.getValue=function(t){if(!this.isReady)return null;this.isInitialized||(null==this.start&&this.setStart(this.getElementDeclaration()),null==this.end&&this.setEnd(this.getElementDeclaration()),this.isInitialized=!0);var e=this.start.value+(this.end.value-this.start.value)*t;return e+this.unit},e}),r("Move",["require","./util","./events","./TimeEvent","./parser/CssDeclarationParser","./parser/DeclarationBetween"],function(t){function e(t){t=t||{},t instanceof Element?t={element:t}:i.isFunction(t)&&(t={render:t}),n.call(this,t),this.element=t.element,this.customRender=t.render,this.render=e.prototype.render,this.betweens={}}var i=t("./util"),r=t("./events"),n=t("./TimeEvent"),s=t("./parser/CssDeclarationParser"),a=t("./parser/DeclarationBetween");return i.inherits(e,n),e.prototype.to=function(t){var e=s.parse(t);for(var i in e){var r=this.betweens[i]||new a(i,this.element);r.setEnd(e[i]),this.betweens[i]=r}return this},e.prototype.from=function(t){var e=s.parse(t);for(var i in e){var r=this.betweens[i]||new a(i,this.element);r.setStart(e[i]),this.betweens[i]=r}return this},e.prototype.between=function(t,e){return this.from(t).to(e),this},e.prototype.internalRender=function(t){var e,n=this.getDuration();e=this.getProgress(t>=n?1:0>=t?0:t/n),this.trigger(r.BEFORE_UPDATE,e);var s={};for(var a in this.betweens)s[a]=this.betweens[a].getValue(e);i.setStyles(this.element,s),this.trigger(r.AFTER_UPDATE,e)},e.create=function(t){var i=new e(t);return i},e}),r("wave/Bezier",["require"],function(){function t(){var t=[].slice.call(arguments,0);if("[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),t.length%2)throw"coordinate count should be even.";this.points=[];for(var e=0;e<t.length;e+=2)this.points.push({x:t[e],y:t[e+1]});this.actualPoints=this.points.slice(0),this.actualPoints.unshift({x:0,y:0}),this.actualPoints.push({x:1,y:1}),this.sampleCache={},this.factorialCache={},this.order=this.actualPoints.length-1,this.splineSampleCount=11,this.splineSamples=[],this.splineInterval=1/(this.splineSampleCount-1),this.calcSplineSamples()}return t.consts={NEWTON_ITERATIONS:4,NEWTON_MIN_SLOPE:.001,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10},t.prototype.calcSplineSamples=function(){for(var t=0;t<this.splineSampleCount;t++)this.splineSamples[t]=this.getFromT(t*this.splineInterval)},t.prototype.get=function(t){var e=this.getTFromX(t);return this.getFromT(e).y},t.prototype.getTFromX=function(e){for(var i=0,r=0,n=1;n<this.splineSampleCount;n++)if(n===this.splineSampleCount-1||this.splineSamples[n].x>e){i=this.splineInterval*(n-1),r=n-1;break}var s=i+this.splineInterval*(e-this.splineSamples[r].x)/(this.splineSamples[r+1].x-this.splineSamples[r].x),a=this.getDerivativeFromT(s);return a.x>=t.consts.NEWTON_MIN_SLOPE?this.runNewtonRaphsonIterate(e,s):0==a.x?s:this.runBinarySubdivide(e,i,i+this.splineInterval)},t.prototype.runNewtonRaphsonIterate=function(e,i){for(var r=0;r<t.consts.NEWTON_ITERATIONS;r++){var n=this.getDerivativeFromT(i);if(0==n.x)return i;var s=this.getFromT(i).x-e;i-=s/n.x}return i},t.prototype.runBinarySubdivide=function(e,i,r){for(var n,s=0;s<t.consts.SUBDIVISION_MAX_ITERATIONS;s++){n=i+(r-i)/2;var a=this.getFromT(n).x-e;if(a<=t.consts.SUBDIVISION_PRECISION)return n;a>0?r=n:i=n}return n},t.prototype.getFromT=function(t){for(var e=this.getCoefficients(),i=0,r=0,n=this.order,s=0;n>=s;s++)i+=e[s].x*Math.pow(t,s),r+=e[s].y*Math.pow(t,s);return{x:i,y:r}},t.prototype.getCoefficients=function(){if(this.coefficients)return this.coefficients;var t=this.order;this.coefficients=[];for(var e=0;t>=e;e++){for(var i=0,r=0,n=0;e>=n;n++){var s=Math.pow(-1,n+e)/(this.getFactorial(n)*this.getFactorial(e-n));i+=s*this.actualPoints[n].x,r+=s*this.actualPoints[n].y}var a=this.getFactorial(t)/this.getFactorial(t-e);this.coefficients.push({x:a*i,y:a*r})}return this.coefficients},t.prototype.getFactorial=function(t){return this.factorialCache[t]?this.factorialCache[t]:0===t?1:(this.factorialCache[t]=t*this.getFactorial(t-1),this.factorialCache[t])},t.prototype.getDerivativeFromT=function(t){for(var e=this.getCoefficients(),i=0,r=0,n=this.order,s=1;n>=s;s++)i+=s*e[s].x*Math.pow(t,s-1),r+=s*e[s].y*Math.pow(t,s-1);return{x:i,y:r}},t.prototype.getSamples=function(t){if(this.sampleCache[t])return this.sampleCache[t];for(var e=[],i=0;t>i;i++)e.push(this.get(i/(t-1)));this.sampleCache[t]=e},t.prototype.getEasing=function(){var t=this;return function(e){return t.get(e)}},t}),r("wave/WaveFragment",["require","./Bezier"],function(t){var e={Quad:function(t){return t*t},Cubic:function(t){return t*t*t},Quart:function(t){return t*t*t*t},Qunit:function(t){return t*t*t*t*t},Expo:function(t){return t*t*t*t*t*t},Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Back:function(t){return t*t*(3*t-2)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}},i=t("./Bezier"),r={B2ToLinear:new i(0,.4,.2,.4,.4,.55).getEasing()};return{easeInCurves:e,fastInCurves:r}}),r("wave/util",["require"],function(){return{repeat:function(t,e){var i=2*e-1;return function(e){var r=e*i,n=Math.floor(r),s=r-n,a=t(s);return n%2&&(a=1-a),a}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}}}),r("wave/Wave",["require","./Bezier","./WaveFragment","./util"],function(t){function e(t){return this instanceof e?(this.value=t,void this.easing):e.make(t)}var i=t("./Bezier"),r={linear:function(t){return t},none:function(){return 0},full:function(){return 1},reverse:function(t){return 1-t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},n=t("./WaveFragment"),s=t("./util"),o=n.easeInCurves;for(var u in o){var l=o[u];r["easeIn"+u]=l,r["easeOut"+u]=s.reverse(l),r["easeInOut"+u]=s.reflect(l),r["easeOutIn"+u]=s.reflect(s.reverse(l))}var h=n.fastInCurves;for(var u in h){var l=h[u];r["fastIn"+u]=l,r["fastOut"+u]=s.reverse(l),r["fastInOut"+u]=s.reflect(l),r["fastOutIn"+u]=s.reflect(s.reverse(l))}var p={ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]};for(var u in p)r[u]=new i(p[u]).getEasing();return e.prototype.getEasing=function(){return this.easing||(this.easing=e.make(this.value)),this.easing},e.make=function(t){return"[object String]"===Object.prototype.toString.call(t)?r[t]||null:"[object Array]"===Object.prototype.toString.call(t)?new i(t).getEasing():"[object Function]"===Object.prototype.toString.call(t)?t:null},e.register=function(t,e){var i=a(e);if(!i)throw"unregisterable";r[t]=i},e.getMap=function(){return r},e}),r("wave",["wave/Wave"],function(t){return t}),r("Dance",["require","./global","./util","./events","./TimeEvent","./Timeline","./Move","wave"],function(t){function e(){n.apply(this,arguments),this.render=e.prototype.render}var i=t("./global"),r=t("./util"),n=(t("./events"),t("./TimeEvent"),t("./Timeline")),s=t("./Move"),a=t("wave");return r.inherits(e,n),e.defaults=function(t,e){i.defaults[t]=e},e.create=function(t){var n=new e(t);return r.isPlainObject(t)&&t.isInFrame?i.rootFrameTimeline.add(n):i.rootTimeline.add(n),n},e.move=function(t){var e=new s(t);return r.isPlainObject(t)&&t.isInFrame?i.rootFrameTimeline.add(e):i.rootTimeline.add(e),e},e.wave=a,e});var n=i("Dance"),s=i("Ticker");n.Ticker=s;var a=i("wave");n.wave=a,t.Dance=n}(window);